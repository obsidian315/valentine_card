<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A Question for my Beautiful Princess</title>

  <style>
    body {
      text-align: center;
      font-family: Arial, sans-serif;
      background-color: #ffe6e6;
      padding: 20px;
      overflow-x: hidden;
    }

    img {
      max-width: 90%;
      height: auto;
      border-radius: 12px;
      margin: 15px 0;
    }

    button {
      padding: 15px 30px;
      font-size: 18px;
      margin: 10px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      position: relative;
      transition: all 0.2s ease;
    }

    .hidden {
      display: none;
    }

    #noBtn {
      position: absolute;
    }
  </style>
</head>

<body>

  <!-- MAIN SCREEN -->
  <div id="mainScreen">
    <h1>To the love of my life:</h1>

    <img src="images/question.jpg" alt="Valentine question">

    <h2>As I looked back at some of the poems I've written for you, I found one from a few years back.</h2>
    <h2>I reflected on it, to see if it stood the test of time, and without a doubt it has.</h2>
    <h2>I wanted to put it here, so you could read it again too.</h2>
  
    <p>True romance is like a gently flowing stream.</p>
    <p>It can never be filled, fully satiated and stagnant,</p>
    <p>because as the rivers of love flow through,</p>
    <p>the flooring continuously erodes to develop a volume</p>
    <p>which is deeper than previously imagined.</p>
    <p></p>
    <p>The stronger you love, the higher the limits you can expand to.</p>
    <p>I don't believe that it's ever possible to fulfill every expectation,</p>
    <p>because as time continues, our love should never cease to grow,</p>
    <p>a limit should never be reached.</p>
    <p></p>
    <p>Rather than fulfill a list of expectations,</p>
    <p>I hope to continue to find new ways to surprise you</p>
    <p>and demonstrate my endlessly growing love and passion.</p>
    <p></p>
    <p>-Joshua, Jan-08-2021</p>
    <p></p>
    <h2>I am so thankful to have you in my life.</h2>
    <h2>We have been through so many changes this past year,</h2>
    <h2>but one thing that remains steadfast is my deep love for you.</h2>
    <h2>I can't imagine a life without you, and I thank God every day </h2>
    <h2>for the privilege to call you my fiance, to be able to see you</h2>
    <h2>and talk to you and just walk through life together.</h2>
  
    <h2>To the most important person in my life, I have one question.</h2>

    <h1>Will You Be My Valentine? ðŸ’–</h1>

    <div id="buttons">
      <button onclick="showYes()">Yes ðŸ’•</button>
      <button id="noBtn">No ðŸ˜¢</button>
    </div>
  </div>

  <!-- YES RESULT -->
  <div id="yesResult" class="hidden">
    <h2>I love youuuuuuuu ðŸ’ž</h2>
    <img src="images/togepi-happy.gif" alt="Happy Togepi">
    <button onclick="goBack()">â¬… Back</button>
  </div>

  <!-- NO RESULT -->
  <div id="noResult" class="hidden">
    <h2>There is no reason you should ever be reading this</h2>
    <h2>You stay playinggggggg</h2>
    <img src="images/sad-togepi.gif" alt="Sad Togepi">
    <button onclick="goBack()">â¬… Back</button>
  </div>

  <!-- Confetti library -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1"></script>

  <script>
    /* MAIN SCREEN LOGIC */
    function showYes() {
      document.getElementById("mainScreen").classList.add("hidden");
      document.getElementById("yesResult").classList.remove("hidden");

      // Heart confetti
      confetti({
        particleCount: 150,
        spread: 90,
        origin: { y: 0.6 },
        shapes: ['circle'],
        colors: ['#ff4d6d', '#ff8fa3', '#ffb3c6']
      });
    }

    function goBack() {
      document.getElementById("yesResult").classList.add("hidden");
      document.getElementById("noResult").classList.add("hidden");
      document.getElementById("mainScreen").classList.remove("hidden");

      // Reset No button state
      runawayActive = false;
      noClickCount = 0;
      noBtn.style.left = "0px";
      noBtn.style.top = "0px";
      noBtn.removeEventListener("mouseenter", moveButton);
    }

    /* NO BUTTON RUNAWAY AFTER FIRST CLICK */
    const noBtn = document.getElementById("noBtn");
    let runawayActive = false; // Is the button running around?
    let noClickCount = 0; // How many times it has been clicked

    noBtn.addEventListener("click", () => {
      noClickCount++;

      if (!runawayActive) {
        // First click: activate runaway
        runawayActive = true;
        noBtn.addEventListener("mouseenter", moveButton);
        alert("You THOUGHT it was going to be that easy");
      } else {
        // Second click: actually go to No screen
        document.getElementById("mainScreen").classList.add("hidden");
        document.getElementById("noResult").classList.remove("hidden");
      }
    });

    function moveButton() {
      const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
      const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);

      noBtn.style.left = `${x}px`;
      noBtn.style.top = `${y}px`;
    }
  </script>

</body>
</html>
