<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A Question for my Beautiful Princess</title>

  <style>
    body {
      text-align: center;
      font-family: Arial, sans-serif;
      background-color: #ffe6e6;
      padding: 20px;
      overflow-y: auto; /* allow scrolling */
      margin: 0;
    }

    img {
      max-width: 90%;
      height: auto;
      border-radius: 12px;
      margin: 15px 0;
    }

    button {
      padding: 15px 30px;
      font-size: 18px;
      margin: 10px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      transition: all 0.1s ease;
    }

    .hidden {
      display: none;
    }

    /* Button container */
    #buttons {
      position: relative; 
      height: 120px; /* enough vertical space for moving No button */
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 40px; /* space between buttons */
      flex-wrap: wrap; /* wraps nicely on narrow screens */
    }

    /* Yes button stays in normal flow */
    #buttons button:first-child {
      position: relative;
    }

    /* No button starts positioned slightly right */
    #noBtn {
      position: absolute;
      left: 60%; 
      top: 20px;
      transform: translate(-50%, 0);
    }
  </style>
</head>

<body>

  <!-- MAIN SCREEN -->
  <div id="mainScreen">
    <h1>To the love of my life:</h1>

    <img src="images/question.jpg" alt="Valentine question">

    <h2>As I looked back at some of the poems I've written for you, I found one from a few years back.</h2>
    <h2>I reflected on it, to see if it stood the test of time, and without a doubt it has.</h2>
    <h2>I wanted to put it here, so you could read it again too.</h2>
  
    <p>True romance is like a gently flowing stream.</p>
    <p>It can never be filled, fully satiated and stagnant,</p>
    <p>because as the rivers of love flow through,</p>
    <p>the flooring continuously erodes to develop a volume</p>
    <p>which is deeper than previously imagined.</p>
    <p></p>
    <p>The stronger you love, the higher the limits you can expand to.</p>
    <p>I don't believe that it's ever possible to fulfill every expectation,</p>
    <p>because as time continues, our love should never cease to grow,</p>
    <p>a limit should never be reached.</p>
    <p></p>
    <p>Rather than fulfill a list of expectations,</p>
    <p>I hope to continue to find new ways to surprise you</p>
    <p>and demonstrate my endlessly growing love and passion.</p>
    <p></p>
    <p>-Joshua, Jan-08-2021</p>
    <p></p>
    <h2>I am so thankful to have you in my life.</h2>
    <h2>We have been through so many changes this past year,</h2>
    <h2>but one thing that remains steadfast is my deep love for you.</h2>
    <h2>I can't imagine a life without you, and I thank God every day </h2>
    <h2>for the privilege to call you my fiance, to be able to see you</h2>
    <h2>and talk to you and just walk through life together.</h2>

    <h1>Will You Be My Valentine? üíñ</h1>

    <div id="buttons">
      <button onclick="showYes()">Yes üíï</button>
      <button id="noBtn">No üò¢</button>
    </div>
  </div>

  <!-- YES RESULT -->
  <div id="yesResult" class="hidden">
    <h2>I love youuuuuuuu üíû</h2>
    <img src="images/togepi-happy.gif" alt="Happy Togepi">
    <button onclick="goBack()">‚¨Ö Back</button>
  </div>

  <!-- NO RESULT -->
  <div id="noResult" class="hidden">
    <h2>There is no reason you should ever be reading this</h2>
    <h2>You tryna be messy FRFR</h2>
    <h2></h2>
    <h2>Try Again. üòê</h2>
    <img src="images/sad-togepi.gif" alt="Sad Togepi">

    <button onclick="goBack()">‚¨Ö Back</button>
  </div>

  <!-- Confetti library -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1"></script>

  <script>
    const noBtn = document.getElementById("noBtn");
    let runawayActive = false;
    let noClickCount = 0;
    let moveInterval;

    function showYes() {
      document.getElementById("mainScreen").classList.add("hidden");
      document.getElementById("yesResult").classList.remove("hidden");

      confetti({
        particleCount: 150,
        spread: 90,
        origin: { y: 0.6 },
        shapes: ['circle'],
        colors: ['#ff4d6d', '#ff8fa3', '#ffb3c6']
      });
    }

    function goBack() {
      document.getElementById("yesResult").classList.add("hidden");
      document.getElementById("noResult").classList.add("hidden");
      document.getElementById("mainScreen").classList.remove("hidden");

      // Reset No button
      runawayActive = false;
      noClickCount = 0;
      clearInterval(moveInterval);

      // Reset position
      noBtn.style.position = "absolute";
      noBtn.style.left = "60%";
      noBtn.style.top = "20px";
      noBtn.style.transform = "translate(-50%, 0)";
    }

    function moveButton() {
      const container = document.getElementById("buttons");
      const containerWidth = container.clientWidth - noBtn.offsetWidth;
      const containerHeight = container.clientHeight - noBtn.offsetHeight;

      const x = Math.random() * containerWidth;
      const y = Math.random() * containerHeight;

      noBtn.style.left = `${x}px`;
      noBtn.style.top = `${y}px`;
      noBtn.style.transform = "translate(0, 0)";
    }

    // Click logic for No button
    noBtn.addEventListener("click", () => {
      noClickCount++;

      if (!runawayActive) {
        runawayActive = true;
        moveInterval = setInterval(moveButton, 200);
        alert("Yea you THOUGHT you was hitting that");
      } else {
        document.getElementById("mainScreen").classList.add("hidden");
        document.getElementById("noResult").classList.remove("hidden");
        clearInterval(moveInterval);
      }
    });
  </script>

</body>
</html>
